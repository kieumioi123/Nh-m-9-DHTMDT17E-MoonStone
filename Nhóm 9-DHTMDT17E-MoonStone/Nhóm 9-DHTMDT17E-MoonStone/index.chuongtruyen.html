<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="https://cdn.glitch.global/2a15cf01-c848-4da5-884f-bf8b4b4783b8/logo%20mtt.png?v=1711883764370" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="stylesheet" href="/style.css" />
    <script src="/script.js" defer></script>
    <title> Trường Nội Trú Của Mao - Chap 1</title>
</head>

<body class="body">
<header>
<div class="navbar">
<nav class="navbar-header">
  <div class="header-menu">
    <a href="https://cyan-florentine-ginger.glitch.me/">
       <img class="logo-team" src="https://cdn.glitch.global/c2c72d3d-385b-4ce0-afb8-3225dc1ee39c/logo%20mtt%201.png?v=1712059288320" alt="" title="Moonstone Team" width="100%" height="58px">
    </a>
    <div class="header-menu-name">
      <ul>
        <li><a href="https://cyan-florentine-ginger.glitch.me/"><i class="fa-solid fa-house"></i>Trang Chủ</a></li>
        <li><a href="https://efficient-crocus-guardian.glitch.me/">Danh Sách Truyện</a></li>
        <li><a href="https://sprout-scintillating-dart.glitch.me/" id="triggerDiv">Thể Loại</a></li>
        <li><a href="https://scented-mire-mandrill.glitch.me/">Liên Hệ</a></li>
      </ul>
    </div>
    <div class="header-menu-items">
      <div class="search-item" onclick="toggleSearch()">
        <i class="fa-solid fa-magnifying-glass"></i>
        <div class="search-box" id="search-box">
    		  <input type="text" placeholder="Tìm kiếm truyện..."/>
    		  <input type="button" value="Tìm kiếm"/>
  		  </div>
      </div>
      <div class="notification">
        <div id="notificationBell" class="fa-solid fa-bell"></div>
        <div id="notificationBox" class="notification-box"></div>        
      </div>
      <div class="login-list" onclick="toggleMenu()">
        <i class="fa-solid fa-list"></i>
      </div>
    </div>
  </div>
  <div class="sub-menu-wrap" id="sub-menu-wrap">
    <div class="sub-menu">
      <div class="list-info">
        <a href="https://cyan-florentine-ginger.glitch.me/" class="sub-menu-link">
          <i class="fa-solid fa-house"></i> 
          <p>Trang Chủ</p>
        </a>
        <a href="https://balsam-stone-cicada.glitch.me/" class="sub-menu-link">
          <p>Tin Tức</p>
        </a>
        <a href="https://boom-spring-owl.glitch.me/" class="sub-menu-link">
          <p>Bảng Xếp Hạng</p>
        </a>
        <a href="https://efficient-crocus-guardian.glitch.me/" class="sub-menu-link">
          <p>Danh Sách Truyện</p>
        </a>
        <a href="https://mangrove-coconut-wilderness.glitch.me/" class="sub-menu-link">
          <p>Đã Hoàn Thành</p>
        </a>
        <button class="btnLogin-popup">
          <p>Đăng Nhập</p>
        </button>
      </div>
    </div>
  </div>
  <div class="login-wrapper-container">
  <div class="login-wrapper">
    <span class="icon-close">
      <i class="fa-solid fa-xmark"></i>
    </span>
    
    <div class="form-box login">
      <h4>
        Đăng Nhập
      </h4>
      <form action="#">
        <div class="input-box">
          <label>Tên người dùng hoặc Địa chỉ Email</label>
          <span class="icon-login"><i class="fa-solid fa-user"></i></span>
          <input type="Tên đăng nhập" placeholder="Tên đăng nhập" required>
        </div>
        <div class="input-box">
          <label>Mật khẩu</label>
          <span class="icon-login"><i class="fa-solid fa-lock"></i></span>
          <input type="Mật khẩu" placeholder="Mật khẩu" required>
        </div>
        <div class="remember-forgot">
          <label><input type="checkbox">Tự động đăng nhập</label>
          <a href="#">Quên mật khẩu?</a>
        </div>
        <button type="submit" class="login-btn">
          Đăng nhập
        </button>
        <div class="login-register">
          <p> Bạn chưa có tài khoản?
            <a href="#" class="register-link">Đăng ký</a>
          </p>
        </div>
      </form>
    </div>
    
    <div class="form-box register">
      <h4>
        Đăng Ký
      </h4>
      <form action="#">
        <div class="input-box">
          <label>Tên đăng nhập</label>
          <span class="icon-login"><i class="fa-solid fa-user"></i></span>
          <input type="Tên đăng nhập" placeholder="Tên đăng nhập" required>
        </div>
        <div class="input-box">
          <label>Email</label>
          <span class="icon-login"><i class="fa-solid fa-envelope"></i></span>
          <input type="Email" placeholder="Email" required>
        </div>
        <div class="input-box">
          <label>Mật khẩu</label>
          <span class="icon-login"><i class="fa-solid fa-lock"></i></span>
          <input type="Mật khẩu" placeholder="Mật khẩu" required>
        </div>
        <div class="remember-forgot">
          <label><input type="checkbox">Tôi đồng ý các chính sách và điều khoản</label>
        </div>
        <button type="submit" class="login-btn">
          Đăng ký
        </button>
        <div class="login-register">
          <p> Bạn đã có tài khoản?
            <a href="#" class="login-link">Đăng nhập</a>
          </p>
        </div>
      </form>
    </div>
  </div>   
  </div>
  <div class="gender-list" id="hiddenDiv">
      <div class="tags-header">
              <a href="">15+</a>
              <a href="">Romance</a>
              <a href="">Comedy</a>
              <a href="">Comic</a>
              <a href="">Isekai</a>
              <a href="">Shoujo</a>
              <a href="">Shounen</a>
              <a href="">Seinen</a>
              <a href="">Manga</a>
              <a href="">Slice Of Life</a>
              <a href="">Supernatural</a>
              <a href="">Fantasy</a>
              <a href="">Drama</a>
              <a href="">Harem</a>
              <a href="">Romance Comedy</a>
              <a href="">School Life</a>
              <a href="">Yandere</a>
              <a href="">Historical</a>
              <a href="">Mystery</a>
              <a href="">Adventure</a>
              <a href="">Gender Bender</a>
              <a href="">Manhua</a>
              <a href="">Bí Ẩn</a>
              <a href="">Chuyển Sinh</a>
              <a href="">Hoàng Gia</a>
              <a href="">Huyễn Huyền</a>
              <a href="">Lãng Mạn</a>
              <a href="">Tình Cảm</a>
              <a href="">BL</a>
              <a href="">Học Đường</a>
              <a href="">Xuyên Không</a>
              <a href="">Tái Sinh</a>
              <a href="">Siêu Năng Lực</a>
              <a href="">Phép Thuật</a>
              <a href="">Đam Mỹ</a>
              <a href="">Bách Hợp</a>
              <a href="">Hoán Đổi Thân Xác</a>
              <a href="">Hiện Đại</a>
              <a href="">Cổ Trang</a>
              <a href="">Yaoi</a>
              <a href="">Yuri</a>
        </div>
  </div>
</nav> 
</div>  
<div class="banner">
 <div class="slide-container"> 
  <div class="buttons">
		<span class="next"></span>
		<span class="prev"></span>
	</div>
 </div>
</div>
</header>
<span id="back-to-top" style="display: inline;">
  <button id="scrollToTop">&#9650;</button>
  <script>
    // Define scroll function inside a self-invoking anonymous function to avoid global namespace pollution
    (function() {
        // Show or hide the scroll to top button based on scroll position
        window.onscroll = function() {
            scrollFunction();
        };

        function scrollFunction() {
            var scrollToTopBtn = document.getElementById("scrollToTop");
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                scrollToTopBtn.style.display = "block";
            } else {
                scrollToTopBtn.style.display = "none";
            }
        }

        // Function to scroll to top when the button is clicked
        document.getElementById("scrollToTop").onclick = function() {
            scrollTopFunction();
        };

        function scrollTopFunction() {
            document.body.scrollTop = 0; // For Safari
            document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
        }
    })();
  </script>
</span>
<section class="container">
  <div class="link-menu">
    <ul>
      <li><a href="https://cyan-florentine-ginger.glitch.me/"><i class="fa-solid fa-house"></i>Trang chủ</a></li>
      <li>/</li>
      <li><a href="https://efficient-crocus-guardian.glitch.me/">Danh sách truyện</a></li>
      <li>/</li>
      <li><a href="https://cautious-rhinestone-anaconda.glitch.me/">Trường Nội Trú Của Mao</a></li>
      <li>/</li>
      <li><a href="https://tiny-handsome-marjoram.glitch.me/">Chap 1</a></li>
    </ul>
  </div>
  <div class="name-chapter">
    <h2 class="title">
      Trường Nội Trú Của Mao - Chap 1
    </h2>
    <p>
      Đăng lúc: 10:01 12/4/2024 _ Lượt xem: <span class="visit" id="visitCount">0</span>
    </p>
  </div>
  <div class="back-up">
    <a class="back-dis" href=""><span>← Trước</span></a>
    <select class="menu-chapter" name="menu-chapter" id="menu-chapter1" onchange="changeLink()">
      <option value="chapter">Chọn chap</option>
      <option value="chapter1">Chap 1</option>
      <option value="chapter2">Chap 2</option>
    </select>
    <script src="script.js"></script>
    <a class="up" href="https://wise-discovered-archduke.glitch.me/"><span>Sau →</span></a>
  </div>
  <div class="entry-content">
    <img src="https://i.imgur.com/BmBbX9J.png" class="img-chapter">
    <img src="https://i.imgur.com/zSnk1CP.jpg" class="img-chapter">
    <img src="https://i.imgur.com/gswigqU.jpg" class="img-chapter">
    <img src="https://i.imgur.com/c4kIzd8.jpg" class="img-chapter">
    <img src="https://i.imgur.com/L3DBaIk.jpg" class="img-chapter">
    <img src="https://i.imgur.com/52phdll.jpg" class="img-chapter">
    <img src="https://i.imgur.com/cxBeXsi.jpg" class="img-chapter">
    <img src="https://i.imgur.com/mpVoNrR.jpg" class="img-chapter">
    <img src="https://i.imgur.com/T61h5Dq.jpg" class="img-chapter">
    <img src="https://i.imgur.com/FHxQtXZ.jpg" class="img-chapter">
    <img src="https://i.imgur.com/jpcVmu7.jpg" class="img-chapter">
    <img src="https://i.imgur.com/OvqLZ6b.jpg" class="img-chapter">
    <img src="https://i.imgur.com/6Fpr7Dr.jpg" class="img-chapter">
    <img src="https://i.imgur.com/1D214a3.jpg" class="img-chapter">
    <img src="https://i.imgur.com/FsrsrTl.jpg" class="img-chapter">
    <img src="https://i.imgur.com/d3IhPfh.jpg" class="img-chapter">
    <img src="https://i.imgur.com/SRorVfb.jpg" class="img-chapter">
    <img src="https://i.imgur.com/PgxxUkU.jpg" class="img-chapter">
    <img src="https://i.imgur.com/Cnktu0C.jpg" class="img-chapter">
    <img src="https://i.imgur.com/NH1MPIF.jpg" class="img-chapter">
    <img src="https://i.imgur.com/aK6xq2w.jpg" class="img-chapter">
    <img src="https://i.imgur.com/yXFrx8w.jpg" class="img-chapter">
    <img src="https://i.imgur.com/NomngVu.jpg" class="img-chapter">
    <img src="https://i.imgur.com/C1ajT1o.jpg" class="img-chapter">
    <img src="https://i.imgur.com/aGf1wjT.jpg" class="img-chapter">
    <img src="https://i.imgur.com/B3uhNVL.jpg" class="img-chapter">
    <img src="https://i.imgur.com/gCNFP7Q.jpg" class="img-chapter">
    <img src="https://i.imgur.com/iVb2aFG.jpg" class="img-chapter">
    <img src="https://i.imgur.com/F7WgoB8.jpg" class="img-chapter">
    <img src="https://i.imgur.com/Y8p8VBg.jpg" class="img-chapter">
    <img src="https://i.imgur.com/5cUCmSV.jpg" class="img-chapter">
    <img src="https://i.imgur.com/IPu89DJ.jpg" class="img-chapter">
    <img src="https://i.imgur.com/5L9DGj2.jpg" class="img-chapter">
    <img src="https://i.imgur.com/BPSGCaX.jpg" class="img-chapter">
    <img src="https://i.imgur.com/nZUxREs.jpg" class="img-chapter">
    <img src="https://i.imgur.com/dCk11uV.jpg" class="img-chapter">
    <img src="https://i.imgur.com/bOFRvng.jpg" class="img-chapter">
    <img src="https://i.imgur.com/SgPoQTh.jpg" class="img-chapter">
    <img src="https://i.imgur.com/6a1QODy.jpg" class="img-chapter">
    <img src="https://i.imgur.com/Hr9mOBT.jpg" class="img-chapter">
    <img src="https://i.imgur.com/HpL2YUm.jpg" class="img-chapter">
    <img src="https://i.imgur.com/w3dsXSN.jpg" class="img-chapter">
    <img src="https://i.imgur.com/D6oJaWG.jpg" class="img-chapter">
    <img src="https://i.imgur.com/jiu3P44.jpg" class="img-chapter">
    <img src="https://i.imgur.com/HXGZIKf.jpg" class="img-chapter">
  </div>
  <div class="back-up">
    <a class="back-dis" href=""><span>← Trước</span></a>
    <select class="menu-chapter" name="menu-chapter" id="menu-chapter2" onchange="changeLink()">
      <option value="chapter">Chọn chap</option>
      <option value="chapter1">Chap 1</option>
      <option value="chapter2">Chap 2</option>
    </select>
    <script src="script.js"></script>
    <a class="up" href="https://wise-discovered-archduke.glitch.me/"><span>Sau →</span></a>
  </div>
  <div class="chapter">
    THẢO LUẬN
    </div>
  <div class="comment-body">
    <form id="comment-form">
        <div>
            <input placeholder="Tên của bạn" type="text" id="username" name="username">
        </div>
        <div class="your-comment">
          <textarea class="comment-text" placeholder="Bình luận của bạn" id="commentText" name="comment" style="height: 60px !important;"></textarea>
          <button type="submit" class="submit-button"></button>
        </div>
    </form>
    <script>
    document.addEventListener('DOMContentLoaded', function () {
        const commentForm = document.getElementById('comment-form');
        const commentContainer = document.getElementById('comment-container');

        // Function to display comments
        function displayComments() {
            const comments = JSON.parse(localStorage.getItem('comments')) || [];
            commentContainer.innerHTML = '';
            comments.forEach(comment => {
                const commentDiv = document.createElement('div');
                commentDiv.classList.add('comment');
                commentDiv.innerHTML = `
                    <img src="https://cdn.glitch.global/3d003f97-a3d9-46e2-8c33-e61638ee9ad0/avatar%20icon.jpg?v=1712930925563" alt="Avatar" class="avatar"> 
                    <div>
                        <p><strong>${comment.username}:</strong> ${comment.text}</p>
                    </div>
                `;
                commentContainer.appendChild(commentDiv);
            });
        }

        // Display comments when page loads
        displayComments();

        // Event listener for form submission
        commentForm.addEventListener('submit', function (event) {
            event.preventDefault();

            // Get username and comment text from form
            const username = document.getElementById('username').value;
            const commentText = document.getElementById('commentText').value;

            // Add comment to local storage
            const comments = JSON.parse(localStorage.getItem('comments')) || [];
            comments.push({ username, text: commentText });
            localStorage.setItem('comments', JSON.stringify(comments));

            // Display comments
            displayComments();

            // Reset form fields
            document.getElementById('username').value = '';
            document.getElementById('commentText').value = '';
        });
    });
    </script>
    <div class="comment-container" id="comment-container"></div>
  </div>
</section>
<script>
    let currentRating = 0;
    let totalStars = 0;
    let ratingCount = 0;

    // Kiểm tra xem có kết quả được lưu trữ trong Local Storage không
    if(localStorage.getItem('ratingValue') !== null) {
        currentRating = parseFloat(localStorage.getItem('ratingValue'));
        totalStars = parseFloat(localStorage.getItem('totalStars'));
        ratingCount = parseInt(localStorage.getItem('ratingCount'));
        updateRatingValue();
    }

    // Hàm để cập nhật dữ liệu vào localStorage một cách an toàn
    function updateLocalStorage(key, value) {
        try {
            localStorage.setItem(key, value);
        } catch (e) {
            // Xử lý nếu localStorage không khả dụng hoặc đã đầy
            console.error('LocalStorage is not available or full.');
        }
    }

    function rateStar(star) {
        totalStars += star;
        ratingCount++;
        currentRating = totalStars / ratingCount;
        highlightStars(star);
        updateRatingValue();
        // Lưu trữ kết quả vào Local Storage
        updateLocalStorage('ratingValue', currentRating);
        updateLocalStorage('totalStars', totalStars);
        updateLocalStorage('ratingCount', ratingCount);
    }

    function highlightStars(star) {
        const stars = document.querySelectorAll('.star');
        stars.forEach((s, index) => {
            if (index < star) {
                s.classList.add('active');
            } else {
                s.classList.remove('active');
            }
        });
    }

    function updateRatingValue() {
        document.getElementById('ratingValue').textContent = currentRating.toFixed(1);
    }

    // Hàm cập nhật số lần truy cập và hiển thị lên trang
    function updateVisitCount() {
        // Kiểm tra xem nếu đã lưu trữ dữ liệu trong localStorage
        if (localStorage.getItem('visitCount')) {
            // Nếu đã tồn tại, tăng giá trị lên 1
            let visitCount = parseInt(localStorage.getItem('visitCount'));
            visitCount++;
            updateLocalStorage('visitCount', visitCount);
        } else {
            // Nếu chưa tồn tại, đặt giá trị là 1
            updateLocalStorage('visitCount', 1);
        }
        // Hiển thị giá trị lên trang web
        document.getElementById('visitCount').innerText = localStorage.getItem('visitCount');
    }

    // Hàm được gọi khi trang web được tải hoàn toàn
    function pageLoaded() {
        updateVisitCount(); // Cập nhật số lần truy cập khi trang được tải
    }

    // Gọi hàm cập nhật số lần truy cập sau mỗi lần làm mới trang web
    window.addEventListener('load', updateVisitCount);
</script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Thực hiện cập nhật số lượt theo dõi khi trang được tải
        const followBtns = document.querySelectorAll("[id^='follow-btn']");
        followBtns.forEach(btn => {
            const btnId = btn.id.replace("follow-btn", "");
            updateFollowerCount(btnId);
        });
    });

    function updateFollowerCount(btnId) {
        const count = getFollowerCount(btnId);
        document.getElementById("followCount" + btnId).innerText = count;
    }

    function getFollowerCount(btnId) {
        const count = localStorage.getItem("followerCount_" + btnId);
        return count === null ? 0 : parseInt(count);
    }

    function setFollowerCount(btnId, count) {
        localStorage.setItem("followerCount_" + btnId, count);
    }

    function setFollowingState(btnId, isFollowing) {
        localStorage.setItem("followingState_" + btnId, isFollowing);
    }

    function getFollowingState(btnId) {
        const state = localStorage.getItem("followingState_" + btnId);
        return state === "true";
    }

    function toggleFollow(btnId) {
        const followBtn = document.getElementById("follow-btn" + btnId);
        let isFollowing = getFollowingState(btnId);
        let followerCount = getFollowerCount(btnId);

        if (isFollowing) {
            followBtn.innerText = "Theo dõi";
            followBtn.classList.remove("following");
            followerCount--;
        } else {
            followBtn.innerText = "Bỏ theo dõi";
            followBtn.classList.add("following");
            followerCount++;
        }

        setFollowingState(btnId, !isFollowing);
        setFollowerCount(btnId, followerCount);

        updateFollowerCount(btnId);
    }
</script>

<footer class="footer">
  <div class="container-footer">
      <div class="row-footer">
         <div class="footer-col">
          <a href="https://cyan-florentine-ginger.glitch.me/">
            <img src="https://cdn.glitch.global/c2c72d3d-385b-4ce0-afb8-3225dc1ee39c/logo%20mtt%201.png?v=1712059288320" alt="" title="Moonstone Team" width="100%" height="60px" margin-right="10px">
           </a>
          </div>
          <div class="footer-col">
            <h3>Bản quyền</h3>
              <ul>
               <li><a href ="https://amber-endurable-mascara.glitch.me/">Đối với các tác phẩm gốc</a></li>
               <li><a href ="https://juicy-respected-basilisk.glitch.me/">Đối với các tác phẩm dịch thuật</a></li>
              </ul>
           </div>
           <div class="footer-col">
             <h3>nội quy website</h3>
               <ul>
                <li><a href ="https://elastic-abyssinian-scowl.glitch.me/">Các quy định chung</a></li>
                <li><a href ="https://fishy-shrub-mole.glitch.me/">Quy định về đăng truyện</a></li>
                <li><a href ="https://holly-mud-algebra.glitch.me/">Quy định về nội dung</a></li>
               </ul>
            </div>
            <div class="footer-col">
              <h3>theo dõi chúng tôi</h3>
                <div class="social-links">
                  <a href="https://www.facebook.com/MoonstoneTeam"><i class="fab fa-facebook-f"></i></a>
                  <a href="#"><i class="fab fa-twitter"></i></a>
                  <a href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
    </div>
    <div class="copyright">
        <div class="copyright-txt">  
          © 2024 <a href="https://cyan-florentine-ginger.glitch.me/">Moonstone Team</a>
        </div>
    </div>
</footer>

</body>  
</html>